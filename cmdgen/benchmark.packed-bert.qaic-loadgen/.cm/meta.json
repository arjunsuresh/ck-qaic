{
  "_base_entry": "cmdgen:05ee58d2d664fb59",
  "_base_entry#": "cmdgen.benchmark.inference.qaic-loadgen",
  "accu_init": {
    "ck_env": [
      "--env.ML_MODEL_MODEL_NAME=bert",
      "--env.CK_ENV_QAIC_MODEL_BATCH_SIZE=<<<override_batch_size>>>",
      "--env.CK_LOADGEN_DATASET_SIZE=<<<dataset_size>>>",
      "--env.CK_ENV_QAIC_DEVICE_IDS=<<<device_ids>>>",
      "--env.CK_ENV_QAIC_INPUT_SELECT=<<<input_select>>>",
      "--env.CK_ENV_QAIC_QUEUE_LENGTH=<<<queue_length>>>",
      "--env.CK_ENV_QAIC_THREADS_PER_QUEUE=<<<threads_per_queue>>>",
      "--env.CK_VERBOSE=<<<verbosity>>>",
      "--env.ML_MODEL_MODEL_NAME=bert",
      "--env.CK_ENV_QAIC_ACTIVATION_COUNT=<<<activation_count>>>"
    ],
    "record_tags": [
      "task.bert-question-answering"
    ]
  },
  "build_map": {
    "sut": {
      "aedk_15w": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      },
      "aedk_20w": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      },
      "aedk_25w": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      },
      "g292_z43_q16": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      },
      "r282_z93_q1": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      },
      "r282_z93_q5": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      },
      "r282_z93_q8": {
        "recommended_activation_count": "4",
        "recommended_batch_size": "1000"
      }
    },
    "model": {
      "bert-99.9": {
        "model_tags": [
          "bert-99.9"
        ],
        "deps": [
          "--dep_add_tags.dataset-tokenized=dataset,squad,tokenized,raw"
        ]
      },
      "bert-99": {
        "model_tags": [
          "bert-99",
          "quantization.calibration"
        ],
        "deps": [
          "--dep_add_tags.dataset-tokenized=dataset,squad,tokenized,raw"
        ]
      }
    }
  },
  "defaults": {
    "buffer_size": "<<<recommended_buffer_size>>>",
    "cache_dir_default": "/data/packed-bert.qaic-loadgen.cache",
    "cache_opt": "0",
    "check_param_container_begin_def": "sdk_container=\\$(grep sdk <<<docker_config>>> | awk -F '=' '{print \\$2}'); model_name_container=\\$(grep model_name <<<docker_config>>> | awk -F '=' '{print \\$2}' | sed -e 's/-/_/g');  if [[ \\$sdk_container != <<<sdk>>> || \\$model_name_container != <<<model_name>>> ]]; then echo 'Error: The SDK or/and model is not correct for this container.\nContainer: sdk='\\$sdk_container', model='\\$model_name_container.'\nGiven: sdk=<<<sdk>>>, model=<<<model_name>>>.'; else",
    "dataset_size": "10833",
    "docker_image": "krai/mlperf.<<<model_name>>>.centos7:<<<sdk>>> ", 
    "docker_preprocess_dir": "/home/krai/CK_REPOS/ck-qaic/program/packed-bert-qaic-loadgen/tmp/preprocessed",
    "max_wait": "50000",
    "model_name": "bert",
    "override_batch_size": "<<<batch_size>>>",
    "program_name": "packed-bert-qaic-loadgen",
    "queue_length": "8",
    "recommended_input_select": "0",
    "recommended_accuracy_buffer_size": "10833",
    "recommended_performance_buffer_size": "10833",
    "threads_per_queue": "8",
    "zero_copy": "disable"
  }
}
